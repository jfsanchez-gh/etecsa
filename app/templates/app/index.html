{% extends "app/base.html" %}
{% load static %}

{% block style %}
	<link rel="stylesheet" type="text/css" href="{% static "css/custom.css" %}">
{% endblock style %}

{% block title %}ETECSA Databse{% endblock title %}

{% block content %}

<div class="row"> <!-- search form -->
	<div class="panel panel-primary">
		<div class="panel-body">
			<h4>ETECSA DATABASE</h4>
			<form class="form-inline" role="form" name="a_form" id="a_form">
				<div class="form-group">
					<label class="sr-only" for="query">Query</label>
					<input type="text" name="query" id="query"  placeholder="Search..." 
					class="form-control">
				</div>
				<button name="a_search" id="a_search" type="submit" class="btn btn-primary">Search</button>
			</form>
		</div>
	</div>
</div>

{# {% if request.GET.query %} #}
<img id="img_loading" name="img_loading" style="position: absolute; top: 50%; left: 50%; display: none;" src="/static/img/ajax-loading.gif"/>
<div class="row" style="display: none;" id="results_table">
	<div class="panel panel-primary">
		<div class="panel-heading">
			<span id="total_items"></span> results for "<span id="result_query"></span>"
		</div>
		<div class="panel-body">
			<div class="table-responsive">
				<table class="table table-striped table-bordered table-hover table-condensed">
					<thead>
						<tr>
							<th></th>
							<th>Number</th>
							<th>Name</th>
							<th>Address</th>
							<th>Province</th>
						</tr>
					</thead>
					<tbody id="table_content">
						{# {% for item in result %} #}
							{# {% include "app/item.html" %} #}
						{# {% endfor %} #}
					</tbody>
				</table>
			</div>
			<div class="paginator">
				<ul class="pager">
					<span>
            			Page
			        </span>
					<span class="current" name="current_page" id="current_page">
            			{# {{ result.number }} #}
			        </span>
			        <span>
            			of
			        </span>
			        <span class="current" name="total_pages" id="total_pages">
            			{# {{ result.paginator.num_pages }} #}
			        </span>

					{# {% if result.has_previous %} #}
						<li class="previous">
		    				{# <a href="?query={{request.GET.query}}&amp;page={{ result.previous_page_number }}">«</a> #}
		    				<a id="a_back" href="javascript:;" title="">«</a>
						</li>
					{# {% endif %} #}
					{# {% if result.has_next %} #}
						<li class="next">
							{# <a href="?query={{request.GET.query}}&amp;page={{ result.next_page_number }}">»</a> #}
							<a id="a_next" href="javascript:;" title="">»</a>
						</li>
					{# {% endif %} #}
					
				</ul>
			</div>
		</div>
	</div>
</div>
{# {% endif %} #}

{% block script %}
	<script src="{% static "js/index.js" %}" type="text/javascript"></script>
{% endblock script %}

{% endblock content %}
